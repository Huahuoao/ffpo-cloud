# 鱼传尺素

### 后端架构（有些可能还没做）：

Sringcloud作为基础框架。nacos服务中心，gateway网关，feign进行http服务调用，基于ribbon负载均衡，支持服务集群。

数据层mysql+mybatisplus。

中间件：

redis作为缓存

es作为搜索

芒果db作为历史记录，保存部分日志

卡夫卡进行热度计算

rabbitmq异步信息推送

### 前端架构：

flutter+什么都会的恩民=无敌

### 规则：

- 用户可以像漂流瓶一样随机发送邮件
- 每次发送邮件都要附上自己的邮票，每个邮票都有自己的特殊功能，触发彩蛋，增加信件发送成功率，加速新建发出等。
- 用户可以把信件设置为公开，这样就可以在广场上看到信件，大家可以浏览点赞评论收藏。
- 邮票有自己的磨损度，用户获得邮票，购买邮票的时候会得到一个随即的磨损度，类似csgo，崭新出土等。
- 每次发送信件都会损耗该邮票磨损度，如果磨损度为0,就不可使用，但是可以用rmb来恢复。
- 商店有点像神秘商店，每天0点会自动从数据的所有商品中抽出来十个商品售卖，并且有随机折扣。
- 其实用户实在没有邮票也没关系，我们有一个默认邮票，不会磨损，但是用这个邮票，送的很慢，而且送的信不一定会成功送出，有百分之五十的概率送不出去。
- 那没钱买邮票怎么办，很简单。发信件就可以获得金币。发信件给100,公开给100,邮件送到再给200。
- 集邮册初始20容量，想要更多的邮票也很简单，氪金。

### 商店：

目前商店就是购买邮票

还分有稀有度

限定：5000金

希世：3000金

珍藏：2000金

普通：1000金

价格暂定。

邮票还分有自己的系列，也就是主题。每个主题有自己的画风，和专属彩蛋。

### 目前功能：

- 基于token的手机号验证码登录，或者用户名密码登录
- 手机注册
- 邮件系统-草稿，已发送，未发送
- 基于gps定位实现根据距离计算邮件送达时间，在指定时间送到用户端
- 基于elasticsearch的搜索信件，关键词搜索，文本搜索，tags搜索
- 随机发送信件
- 指定接收者发送信件
- 信件公开，进入广场
- 信件收藏
- 各种增删改查
- 每张邮票定制自己特殊功能，概率触发彩蛋。
- 用户可定制自己的邮票
- 商店功能，购买邮票以及氪金。
- 好友模块，信件寄出成为临时好友，互相通信回信可成为正式好友。

### 未来功能：

- [ ] redis点赞收藏
- [ ] 评论
- [ ] 卡夫卡实时计算热度
- [ ] mq推送各种信息给用户，获得金币获得邮票什么的
- [ ] 芒果db记录历史记录
- [ ] 好友推荐系统

### ......

### ui展示：

- 邮票

https://www.figma.com/file/b0RLSKnDAC4fWmK3E5s7vu/Untitled?node-id=0%3A1

- UI

https://www.figma.com/file/newIJlv0J4Yioy881OKLtI/%E9%B1%BC%E4%BC%A0%E5%B0%BA%E7%B4%A0?node-id=0%3A1

### 项目实际演示：



